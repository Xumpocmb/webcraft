# Руководство по локализации

В этом проекте используется два основных подхода к локализации (переводу) контента:

1.  **Локализация контента из базы данных** (например, услуги, отзывы).
2.  **Локализация статичного текста** в шаблонах (заголовки, кнопки, элементы навигации).

---

## 1. Локализация контента из базы данных (на примере Услуг)

Для перевода моделей, таких как "Услуги", мы используем библиотеку `django-modeltranslation`.

### Как это работает?

Когда вы регистрируете модель для перевода (в нашем случае это модель `Service` в файле `app_home/translation.py`), `django-modeltranslation` автоматически создает в базе данных отдельные поля для каждого языка.

Например, для полей `name` и `description` в модели `Service` были созданы следующие поля в базе данных:
*   `name_ru` и `description_ru` (для русского языка)
*   `name_en` и `description_en` (для английского языка)

Сайт автоматически будет показывать перевод для выбранного языка.

### Как добавить новую услугу с переводом?

Все переводы для моделей управляются через **панель администратора**.

1.  **Войдите в панель администратора** по адресу `/admin/`.
2.  Перейдите в раздел "Услуги" (`Services`).
3.  Нажмите "Добавить услугу" (`Add service`).
4.  Вы увидите вкладки для каждого языка ("Russian" и "English").

    ![Пример вкладок в панели администратора](https://i.imgur.com/your-image.png)  <!-- You would replace this with an actual image if you could generate one -->

5.  **Заполните поля `name` и `description` на обеих вкладках** — для русского и английского языков.
6.  Поле "Цена" (`Price`) является общим для всех языковых версий.
7.  Сохраните услугу.

Новая услуга будет автоматически отображаться на сайте на выбранном языке.

---

## 2. Локализация статичного текста в шаблонах

Статичный текст — это текст, который жестко прописан в HTML-шаблонах (файлы с расширением `.html`).

### Как это работает?

Мы используем встроенную в Django систему перевода. Текст, который нужно перевести, оборачивается в специальный тег `{% trans "..." %}`.

### Как добавить новый переводимый текст?

Если вы добавили новый статичный текст в шаблон и хотите, чтобы он был переводимым, следуйте этим шагам:

1.  **Оберните текст в тег `trans`**. Убедитесь, что в начале файла шаблона есть строка `{% load i18n %}`.

    *Пример:*
    ```html
    {% load i18n %}
    ...
    <h2>{% trans "Новый заголовок для перевода" %}</h2>
    ```

2.  **Сгенерируйте файлы перевода**. Откройте терминал и выполните команду:
    ```bash
    python manage.py makemessages -l en -l ru
    ```
    Эта команда найдет все новые строки, обернутые в `{% trans %}`, и добавит их в файлы `.po` в директории `locale/`.

3.  **Добавьте перевод**. Откройте файл для английского языка: `locale/en/LC_MESSAGES/django.po`. Найдите в нем новую строку (она будет с пустым `msgstr ""`).

    *Было:*
    ```po
    #: path/to/your/template.html:10
    msgid "Новый заголовок для перевода"
    msgstr ""
    ```

    *Стало (вы добавляете перевод):*
    ```po
    #: path/to/your/template.html:10
    msgid "Новый заголовок для перевода"
    msgstr "New header for translation"
    ```
    > **Примечание:** Для русского языка (`locale/ru/LC_MESSAGES/django.po`) можно оставить `msgstr` таким же, как `msgid`, или заполнить его тем же текстом.

4.  **Скомпилируйте переводы**. Чтобы Django мог использовать новые переводы, выполните команду:
    ```bash
    python manage.py compilemessages
    ```

После этого новый текст будет корректно переключаться при смене языка на сайте.
